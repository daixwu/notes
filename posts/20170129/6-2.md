# Function å‡½æ•°çš„æ–¹æ³•

## `Function.prototype.toString()`

ES2019 å¯¹å‡½æ•°å®ä¾‹çš„`toString()`æ–¹æ³•åšå‡ºäº†ä¿®æ”¹ã€‚

`toString()`æ–¹æ³•è¿”å›å‡½æ•°ä»£ç æœ¬èº«ï¼Œä»¥å‰ä¼šçœç•¥æ³¨é‡Šå’Œç©ºæ ¼ã€‚

```js
function /* foo comment */ foo () {}

foo.toString()
// function foo() {}
```

ä¸Šé¢ä»£ç ä¸­ï¼Œå‡½æ•°`foo`çš„åŸå§‹ä»£ç åŒ…å«æ³¨é‡Šï¼Œå‡½æ•°å`foo`å’Œåœ†æ‹¬å·ä¹‹é—´æœ‰ç©ºæ ¼ï¼Œä½†æ˜¯`toString()`æ–¹æ³•éƒ½æŠŠå®ƒä»¬çœç•¥äº†ã€‚

ä¿®æ”¹åçš„`toString()`æ–¹æ³•ï¼Œæ˜ç¡®è¦æ±‚è¿”å›ä¸€æ¨¡ä¸€æ ·çš„åŸå§‹ä»£ç ã€‚

```js
function /* foo comment */ foo () {}

foo.toString()
// "function /* foo comment */ foo () {}"
```

## `Function.prototype.call()`

```js
fun.call(thisArg[, arg1[, arg2[, ...]]])
```

thisArgï¼šfunå‡½æ•°è¿è¡Œæ—¶æŒ‡å®šçš„thiså€¼ï¼Œå¯èƒ½çš„å€¼ä¸ºï¼š

- ä¸ä¼ ï¼Œæˆ–è€…ä¼ nullï¼Œundefinedï¼Œ thisæŒ‡å‘windowå¯¹è±¡
- ä¼ é€’å¦ä¸€ä¸ªå‡½æ•°çš„å‡½æ•°åfun2ï¼ŒthisæŒ‡å‘å‡½æ•°fun2çš„thisæŒ‡å‘
- å€¼ä¸ºåŸå§‹å€¼(æ•°å­—ï¼Œå­—ç¬¦ä¸²ï¼Œå¸ƒå°”å€¼),thisä¼šæŒ‡å‘è¯¥åŸå§‹å€¼çš„è‡ªåŠ¨åŒ…è£…å¯¹è±¡ï¼Œå¦‚ Stringã€Numberã€Boolean
- ä¼ é€’ä¸€ä¸ªå¯¹è±¡ï¼Œå‡½æ•°ä¸­çš„thisæŒ‡å‘è¿™ä¸ªå¯¹è±¡

ä¾‹å¦‚:

```js
function a(){
    console.log(this);
}
function b(){}

a.call(b);  // function b(){}
```

å°†å‡½æ•°çš„argumentsè½¬æ¢ä¸ºæ•°ç»„

```js
function list() {
  // å°†argumentsè½¬æˆæ•°ç»„
  return Array.prototype.slice.call(arguments);  
}
list(1,2,3);  // [1, 2, 3]
```

## `Function.prototype.apply()`

```js
fun.apply(thisArg[, argsArray])
```

ä¾‹å¦‚ï¼š

```js
let numbers = [5, 6, 2, 3, 7];
let max = Math.max.apply(null, numbers);
console.log(max)  // 7
```

## `Function.prototype.bind()`

```js
fun.bind(thisArg[, arg1[, arg2[, ...]]]);
```

`bind()`æ–¹æ³•ä¼šåˆ›å»ºä¸€ä¸ªæ–°å‡½æ•°ï¼Œç§°ä¸ºç»‘å®šå‡½æ•°ã€‚

`bind`æ˜¯ES5æ–°å¢çš„ä¸€ä¸ªæ–¹æ³•ï¼Œä¸ä¼šæ‰§è¡Œå¯¹åº”çš„å‡½æ•°ï¼ˆ`call`æˆ–`apply`ä¼šè‡ªåŠ¨æ‰§è¡Œå¯¹åº”çš„å‡½æ•°ï¼‰ï¼Œè€Œæ˜¯è¿”å›å¯¹ç»‘å®šå‡½æ•°çš„å¼•ç”¨ã€‚

å½“è°ƒç”¨è¿™ä¸ªç»‘å®šå‡½æ•°æ—¶ï¼Œ`thisArg`å‚æ•°ä½œä¸º `this`ï¼Œç¬¬äºŒä¸ªä»¥åŠä»¥åçš„å‚æ•°åŠ ä¸Šç»‘å®šå‡½æ•°è¿è¡Œæ—¶æœ¬èº«çš„å‚æ•°æŒ‰ç…§é¡ºåºä½œä¸ºåŸå‡½æ•°çš„å‚æ•°æ¥è°ƒç”¨åŸå‡½æ•°ã€‚

ç®€å•åœ°è¯´ï¼Œ`bind`ä¼šäº§ç”Ÿä¸€ä¸ªæ–°çš„å‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°å¯ä»¥æœ‰é¢„è®¾çš„å‚æ•°ã€‚

```js
function list() {
  // å°†argumentsè½¬æˆæ•°ç»„
  return Array.prototype.slice.call(arguments);  
}

let leadingThirtysevenList = list.bind(undefined, 37); // ç»‘å®šå‡½æ•°
let list = leadingThirtysevenList(1, 2, 3); // è°ƒç”¨ç»‘å®šå‡½æ•°

console.log(list); // [37, 1, 2, 3]
```

[ğŸ”—å‚è§](http://es6.ruanyifeng.com/#docs/function)
