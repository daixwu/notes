# Math å¯¹è±¡æ“ä½œ

## å–æ•´

### `Math.trunc()` å»é™¤å°æ•°éƒ¨åˆ† è¿”å›æ•´æ•°éƒ¨åˆ† (éå››èˆäº”å…¥)

`Math.trunc`æ–¹æ³•ç”¨äºå»é™¤ä¸€ä¸ªæ•°çš„å°æ•°éƒ¨åˆ†ï¼Œè¿”å›æ•´æ•°éƒ¨åˆ†ã€‚å¯¹äºéæ•°å€¼ï¼Œ`Math.trunc`å†…éƒ¨ä½¿ç”¨`Number`æ–¹æ³•å°†å…¶å…ˆè½¬ä¸ºæ•°å€¼ã€‚å¯¹äºç©ºå€¼å’Œæ— æ³•æˆªå–æ•´æ•°çš„å€¼ï¼Œè¿”å›`NaN`ã€‚

```js
Math.trunc(4.1) // 4
Math.trunc(-4.1) // -4
Math.trunc(-0.1234) // -0
```

### `Math.floor()` è¿”å›å°äºæˆ–ç­‰äºä¸€ä¸ªç»™å®šæ•°å­—çš„æœ€å¤§æ•´æ•°

```js
Math.floor( 45.95);  // 45
Math.floor( 45.05);  // 45
Math.floor( 4 ); // 4
Math.floor(-45.05); // -46
Math.floor(-45.95); // -46
```

### `Math.round()` å‡½æ•°è¿”å›ä¸€ä¸ªæ•°å­—å››èˆäº”å…¥åæœ€æ¥è¿‘çš„æ•´æ•°

```js
Math.round( 45.95);  // 46
Math.round( 45.05);  // 45
Math.round( 4 ); // 4
Math.round(-45.05); // -45
Math.round(-45.95); // -46
```

### `Math.ceil()` å‡½æ•°è¿”å›å¤§äºæˆ–ç­‰äºä¸€ä¸ªç»™å®šæ•°å­—çš„æœ€å°æ•´æ•°

```js
Math.ceil(.95);    // 1
Math.ceil(4);      // 4
Math.ceil(7.004);  // 8
Math.ceil(-0.95);  // -0
Math.ceil(-4);     // -4
Math.ceil(-7.004); // -7
```

## åˆ¤æ–­

### `Math.sign()` åˆ¤æ–­ä¸€ä¸ªæ•°åˆ°åº•æ˜¯æ­£æ•°ã€è´Ÿæ•°ã€è¿˜æ˜¯é›¶

`Math.sign`æ–¹æ³•ç”¨æ¥åˆ¤æ–­ä¸€ä¸ªæ•°åˆ°åº•æ˜¯æ­£æ•°ã€è´Ÿæ•°ã€è¿˜æ˜¯é›¶ã€‚å¯¹äºéæ•°å€¼ï¼Œä¼šå…ˆå°†å…¶è½¬æ¢ä¸ºæ•°å€¼ã€‚

å®ƒä¼šè¿”å›äº”ç§å€¼ã€‚

- å‚æ•°ä¸ºæ­£æ•°ï¼Œè¿”å›+1ï¼›
- å‚æ•°ä¸ºè´Ÿæ•°ï¼Œè¿”å›-1ï¼›
- å‚æ•°ä¸º 0ï¼Œè¿”å›0ï¼›
- å‚æ•°ä¸º-0ï¼Œè¿”å›-0;
- å…¶ä»–å€¼ï¼Œè¿”å›NaNã€‚

```js
Math.sign(-5) // -1
Math.sign(5) // +1
Math.sign(0) // +0
Math.sign(-0) // -0
Math.sign(NaN) // NaN
```

## ç«‹æ–¹æ ¹

### `Math.cbrt()` è®¡ç®—ä¸€ä¸ªæ•°çš„ç«‹æ–¹æ ¹

`Math.cbrt`æ–¹æ³•ç”¨äºè®¡ç®—ä¸€ä¸ªæ•°çš„ç«‹æ–¹æ ¹ï¼Œå¯¹äºéæ•°å€¼ï¼Œ`Math.cbrt`æ–¹æ³•å†…éƒ¨ä¹Ÿæ˜¯å…ˆä½¿ç”¨`Number`æ–¹æ³•å°†å…¶è½¬ä¸ºæ•°å€¼ã€‚

```js
Math.cbrt(-1) // -1
Math.cbrt(0)  // 0
Math.cbrt(1)  // 1
Math.cbrt(2)  // 1.2599210498948734
```

## å¹³æ–¹æ ¹

### `Math.hypot()` è¿”å›æ‰€æœ‰å‚æ•°çš„å¹³æ–¹å’Œçš„å¹³æ–¹æ ¹

å¦‚æœå‚æ•°ä¸æ˜¯æ•°å€¼ï¼Œ`Math.hypot`æ–¹æ³•ä¼šå°†å…¶è½¬ä¸ºæ•°å€¼ã€‚åªè¦æœ‰ä¸€ä¸ªå‚æ•°æ— æ³•è½¬ä¸ºæ•°å€¼ï¼Œå°±ä¼šè¿”å› `NaN`ã€‚

```js
Math.hypot(3, 4);        // 5
Math.hypot(3, 4, 5);     // 7.0710678118654755
Math.hypot();            // 0
Math.hypot(NaN);         // NaN
Math.hypot(3, 4, 'foo'); // NaN
Math.hypot(3, 4, '5');   // 7.0710678118654755
Math.hypot(-3);          // 3
```

## ç»å¯¹å€¼

### `Math.abs()` å‡½æ•°è¿”å›æŒ‡å®šæ•°å­—çš„ç»å¯¹å€¼

`Math.abs(x)` å‡½æ•°è¿”å›æŒ‡å®šæ•°å­— â€œxâ€œ çš„ç»å¯¹å€¼ã€‚ä¼ å…¥ä¸€ä¸ªéæ•°å­—å½¢å¼çš„å­—ç¬¦ä¸²æˆ–è€… undefined/empty å˜é‡ï¼Œå°†è¿”å› NaNã€‚ä¼ å…¥ null å°†è¿”å› 0ã€‚

```js
Math.abs('-1');     // 1
Math.abs(-2);       // 2
Math.abs(null);     // 0
Math.abs("string"); // NaN
Math.abs();         // NaN
```

## æœ€å¤§å€¼

### `Math.max()` å‡½æ•°è¿”å›ä¸€ç»„æ•°ä¸­çš„æœ€å¤§å€¼

```js
Math.max(10, 20, 30, 30); // 30
Math.max.call(null,10, 20,30); // 30
Math.max.apply(null,[10, 20,30]); // 30
```

## æœ€å°å€¼

### `Math.min()` è¿”å›é›¶ä¸ªæˆ–æ›´å¤šä¸ªæ•°å€¼çš„æœ€å°å€¼

```js
let x = 10, y = -20;
let z = Math.min(x, y); // -20
```

`Math.min` ç»å¸¸ç”¨äºè£å‰ªä¸€ä¸ªå€¼ï¼Œä»¥ä¾¿ä½¿å…¶æ€»æ˜¯å°äºæˆ–ç­‰äºæŸä¸ªè¾¹ç•Œå€¼ã€‚

```js
let x = f(foo);

if (x > boundary) {
    x = boundary;
}

// å¯ä»¥å†™æˆ

let x = Math.min(f(foo), boundary);
```

### éšæœºæ•°

### `Math.random()` è¿”å›`[0ï¼Œ1)`ä¼ªéšæœºæ•°

å¾—åˆ°ä¸€ä¸ªå¤§äºç­‰äº0ï¼Œå°äº1ä¹‹é—´çš„éšæœºæ•°

```js
function getRandom() {
  return Math.random();
}
```

å¾—åˆ°ä¸€ä¸ªä¸¤æ•°ä¹‹é—´çš„éšæœºæ•°

```js
function getRandomArbitrary(min, max) {
  return Math.random() * (max - min) + min;
}
```

å¾—åˆ°ä¸€ä¸ªä¸¤æ•°ä¹‹é—´çš„éšæœºæ•´æ•°

```js
function getRandomInt(min, max) {
  min = Math.ceil(min);
  max = Math.floor(max);
  return Math.floor(Math.random() * (max - min)) + min; //ä¸å«æœ€å¤§å€¼ï¼Œå«æœ€å°å€¼
}
```

å¾—åˆ°ä¸€ä¸ªä¸¤æ•°ä¹‹é—´çš„éšæœºæ•´æ•°ï¼ŒåŒ…æ‹¬ä¸¤ä¸ªæ•°åœ¨å†…

```js
function getRandomIntInclusive(min, max) {
  min = Math.ceil(min);
  max = Math.floor(max);
  return Math.floor(Math.random() * (max - min + 1)) + min; //å«æœ€å¤§å€¼ï¼Œå«æœ€å°å€¼
}
```

## æŒ‡æ•°è¿ç®—

### `Math.pow()` å‡½æ•°è¿”å›åŸºæ•°çš„æŒ‡æ•°æ¬¡å¹‚

```js
function raisePower(x,y) {
   return Math.pow(x,y)
}

raisePower(2, 7) // 128
```

### æŒ‡æ•°è¿ç®—ç¬¦

ES2016 æ–°å¢äº†ä¸€ä¸ªæŒ‡æ•°è¿ç®—ç¬¦ï¼ˆ**ï¼‰ã€‚

```js
2 ** 2 // 4
2 ** 3 // 8
```

è¿™ä¸ªè¿ç®—ç¬¦çš„ä¸€ä¸ªç‰¹ç‚¹æ˜¯å³ç»“åˆï¼Œè€Œä¸æ˜¯å¸¸è§çš„å·¦ç»“åˆã€‚å¤šä¸ªæŒ‡æ•°è¿ç®—ç¬¦è¿ç”¨æ—¶ï¼Œæ˜¯ä»æœ€å³è¾¹å¼€å§‹è®¡ç®—çš„ã€‚

```js
// ç›¸å½“äº 2 ** (3 ** 2)
2 ** 3 ** 2
// 512
```

ä¸Šé¢ä»£ç ä¸­ï¼Œé¦–å…ˆè®¡ç®—çš„æ˜¯ç¬¬äºŒä¸ªæŒ‡æ•°è¿ç®—ç¬¦ï¼Œè€Œä¸æ˜¯ç¬¬ä¸€ä¸ªã€‚

æŒ‡æ•°è¿ç®—ç¬¦å¯ä»¥ä¸ç­‰å·ç»“åˆï¼Œå½¢æˆä¸€ä¸ªæ–°çš„èµ‹å€¼è¿ç®—ç¬¦ï¼ˆ`**=`ï¼‰ã€‚

```js
let a = 1.5;
a **= 2;
// ç­‰åŒäº a = a * a;

let b = 4;
b **= 3;
// ç­‰åŒäº b = b * b * b;
```

æ³¨æ„ï¼ŒV8 å¼•æ“çš„æŒ‡æ•°è¿ç®—ç¬¦ä¸`Math.pow`çš„å®ç°ä¸ç›¸åŒï¼Œå¯¹äºç‰¹åˆ«å¤§çš„è¿ç®—ç»“æœï¼Œä¸¤è€…ä¼šæœ‰ç»†å¾®çš„å·®å¼‚ã€‚

```js
// ä¸¤ä¸ªè¿ç®—ç»“æœçš„æœ€åä¸€ä½æœ‰æ•ˆæ•°å­—æ˜¯æœ‰å·®å¼‚çš„
Math.pow(99, 99)
// 3.697296376497263e+197

99 ** 99
// 3.697296376497268e+197
```

[ğŸ”—å‚è§](http://es6.ruanyifeng.com/#docs/number#Math-%E5%AF%B9%E8%B1%A1%E7%9A%84%E6%89%A9%E5%B1%95)
